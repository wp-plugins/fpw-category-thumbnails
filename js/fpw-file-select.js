function confirmGetLanguage(){jQuery("#buttonPressed").val("Language");jQuery("form[name='fpw_cat_thmb_form']").submit()}function fpw_fs_get_url_vars(a){var b={};var c=a.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,d){b[c]=d});return b}function fpw_fs_select_item(a,b,c){var d,e,f;d=jQuery("#"+c);e=jQuery("#"+c+"_preview");f=jQuery("#"+c+"_preview-size").val();e.html("").load(fpw_file_select.ajaxurl,{cat:a,id:b,size:f,action:"fpw_fs_get_file"});d.val(b);tb_remove();jQuery("html").removeClass("File")}jQuery(document).ready(function(a){jQuery("#contextual-help-link").html(fpw_file_select.help_link_text);if(a(".fpw-fs-button").length){a(".fpw-fs-button").click(function(){a("html").addClass("File");id=a(this).attr("id");id=id.slice(id.search(/b-get-for-/)+10,id.length);tb_show(fpw_file_select.tb_show_title,"media-upload.php?post_id=0&fpw_fs_field=val-for-id-"+id+"-field&type=file&TB_iframe=true");return false});a(".fpw-fs-button:first").parents("form").submit(function(){a(".fpw-fs-remove:checked").each(function(){a(this).siblings("input.fpw-fs-value").val("")})})}if(a("body").attr("id")=="media-upload"){var b,c,d,e;var f='<a href="#" class="fpw-fs-insert button-secondary">'+fpw_file_select.text_select_file+"</a>";b=parent.document;c=b.getElementById("TB_iframeContent").src;d=fpw_fs_get_url_vars(c);if("fpw_fs_field"in d){e=a("ul#sidemenu a.current").parent("li").attr("id");a("ul#sidemenu li#tab-type_url").remove();a("p.ml-submit").remove();switch(e){case"tab-type":{a("table.describe tbody tr:not(.submit)").remove();a("table.describe tr.submit td.savesend input").remove();a("table.describe tr.submit td.savesend").prepend(f);break};case"tab-library":{a("#media-items .media-item a.toggle").remove();a("#media-items .media-item").each(function(){a(this).prepend(f)});a("a.fpw-fs-insert").css({display:"block","float":"right",margin:"7px 20px 0 0"});break};case"tab-nextgen":{a("#media-items .media-item a.toggle").remove();a("#media-items .media-item").each(function(){a(this).prepend(f)});a("a.fpw-fs-insert").css({display:"block","float":"right",margin:"7px 20px 0 0"});break}}a("a.fpw-fs-insert").click(function(){var b;var c;if(a(this).parent().attr("class")=="savesend"){b=a(this).siblings(".del-attachment").attr("id");b=b.match(/del_attachment_([0-9]+)/);b=b[1]}else{b=a(this).parent().attr("id");b=b.match(/media\-item\-([0-9]+)/);b=b[1];if(e=="tab-nextgen"){b="ngg-"+b}}c=d["fpw_fs_field"];c=c.replace("val-for-id-","");c=c.replace("-field","");parent.fpw_fs_select_item(c,b,d["fpw_fs_field"]);return false})}}if(a(".fpw-btn-author").length){a(".fpw-btn-author").click(function(){id=a(this).attr("id");id=id.slice(id.search(/b-author-for-/)+13,id.length);fpw_fs_select_item(id,"Author","val-for-id-"+id+"-field");return false})}if(a(".fpw-btn-clear").length){a(".fpw-btn-clear").click(function(){id=a(this).attr("id");id=id.slice(id.search(/b-clear-for-/)+12,id.length);fpw_fs_select_item(id,0,"val-for-id-"+id+"-field");return false})}if(a(".fpw-btn-refresh").length){a(".fpw-btn-refresh").click(function(){id=a(this).attr("id");id=id.slice(id.search(/b-refresh-for-/)+14,id.length);value=a("#"+"val-for-id-"+id+"-field").attr("value");fpw_fs_select_item(id,value,"val-for-id-"+id+"-field");return false})}if(a("#update").length){a("#update").click(function(){message_div=jQuery("#message");barr=jQuery("input:checkbox:checked.option-group").map(function(){return this.value}).get();message_div.html("<p><strong>"+fpw_file_select.wait_msg+"</strong></p>").load(fpw_file_select.ajaxurl,{boxes:barr,action:"fpw_ct_update"});a("#message").fadeIn(1500).delay(3e3).fadeOut(1500);return false})}if(a("#apply").length){a("#apply").click(function(){msg=fpw_file_select.apply_line_1_1+" <strong>";msg=msg+fpw_file_select.apply_line_1_2+"</strong> ";msg=msg+fpw_file_select.apply_line_1_3+" ";msg=msg+fpw_file_select.apply_line_1_4+' "<em>';msg=msg+fpw_file_select.apply_line_1_5+'"</em> ';msg=msg+fpw_file_select.apply_line_1_6+"<br /> <br />";msg=msg+fpw_file_select.apply_line_2;jConfirm(msg,fpw_file_select.confirm_header,function(b){if(b){message_div=jQuery("#message");message_div.html("<p><strong>"+fpw_file_select.wait_msg+"</strong></p>").load(fpw_file_select.ajaxurl,{mode:"apply",action:"fpw_ct_apply"});a("#message").fadeIn(1500).delay(3e3).fadeOut(1500);return false}else{return false}});return false})}if(a("#remove").length){a("#remove").click(function(){msg=fpw_file_select.remove_line_1_1+" <strong>";msg=msg+fpw_file_select.remove_line_1_2+"</strong> ";msg=msg+fpw_file_select.remove_line_1_3+" <strong>";msg=msg+fpw_file_select.remove_line_1_4+"</strong> ";msg=msg+fpw_file_select.remove_line_1_5+" ";msg=msg+fpw_file_select.remove_line_1_6+' "<em>';msg=msg+fpw_file_select.remove_line_1_7+'</em>" <strong>';msg=msg+fpw_file_select.remove_line_1_8+"</strong> ";msg=msg+fpw_file_select.remove_line_1_9+"<br /> <br />";msg=msg+fpw_file_select.apply_line_2;jConfirm(msg,fpw_file_select.confirm_header,function(b){if(b){message_div=jQuery("#message");message_div.html("<p><strong>"+fpw_file_select.wait_msg+"</strong></p>").load(fpw_file_select.ajaxurl,{mode:"remove",action:"fpw_ct_remove"});a("#message").fadeIn(1500).delay(3e3).fadeOut(1500);return false}else{return false}});return false})}if(a("#language").length){a("#language").click(function(){message_div=jQuery("#message");message_div.html("<p><strong>"+fpw_file_select.wait_msg+"</strong></p>").load(fpw_file_select.ajaxurl,{action:"fpw_ct_language"});a("#message").fadeIn(1500).delay(3e3).fadeOut(1500);return false})}})