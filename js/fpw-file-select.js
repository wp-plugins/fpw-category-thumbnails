function fpw_fs_select_item(a,b){var c,d,e;c=jQuery("#"+b);d=jQuery("#"+b+"_preview");e=jQuery("#"+b+"_preview-size").val();d.html("").load(fpw_file_select.ajaxurl,{id:a,size:e,action:"fpw_fs_get_file"});c.val(a);tb_remove();jQuery("html").removeClass("File")}function fpw_fs_get_url_vars(a){var b={};var c=a.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(a,c,d){b[c]=d});return b}function confirmRemove(){msg=fpw_file_select.remove_line_1_1+" <strong>";msg=msg+fpw_file_select.remove_line_1_2+"</strong> ";msg=msg+fpw_file_select.remove_line_1_3+" <strong>";msg=msg+fpw_file_select.remove_line_1_4+"</strong> ";msg=msg+fpw_file_select.remove_line_1_5+" ";msg=msg+fpw_file_select.remove_line_1_6+' "<em>';msg=msg+fpw_file_select.remove_line_1_7+'</em>" <strong>';msg=msg+fpw_file_select.remove_line_1_8+"</strong> ";msg=msg+fpw_file_select.remove_line_1_9+"<br /> <br />";msg=msg+fpw_file_select.apply_line_2;jConfirm(msg,fpw_file_select.confirm_header,function(a){if(a){jQuery("#buttonPressed").val("Remove");jQuery("form[name='fpw_cat_thmb_form']").submit()}else{return false}})}function confirmApply(){msg=fpw_file_select.apply_line_1_1+" <strong>";msg=msg+fpw_file_select.apply_line_1_2+"</strong> ";msg=msg+fpw_file_select.apply_line_1_3+" ";msg=msg+fpw_file_select.apply_line_1_4+' "<em>';msg=msg+fpw_file_select.apply_line_1_5+'"</em> ';msg=msg+fpw_file_select.apply_line_1_6+"<br /> <br />";msg=msg+fpw_file_select.apply_line_2;jConfirm(msg,fpw_file_select.confirm_header,function(a){if(a){jQuery("#buttonPressed").val("Apply");jQuery("form[name='fpw_cat_thmb_form']").submit()}else{return false}})}function confirmUpdate(){jQuery("#buttonPressed").val("Update");jQuery("form[name='fpw_cat_thmb_form']").submit()}jQuery(document).ready(function(a){jQuery("#contextual-help-link").html(fpw_file_select.help_link_text);if(a(".fpw-fs-button").length){a(".fpw-fs-button").click(function(){a("html").addClass("File");tb_show(fpw_file_select.tb_show_title,"media-upload.php?post_id=0&fpw_fs_field="+a(this).siblings("input.fpw-fs-value").attr("id")+"&type=file&TB_iframe=true");return false});a(".fpw-fs-button:first").parents("form").submit(function(){a(".fpw-fs-remove:checked").each(function(){a(this).siblings("input.fpw-fs-value").val("")})})}if(a("body").attr("id")=="media-upload"){var b,c,d,e;var f='<a href="#" class="fpw-fs-insert button-secondary">'+fpw_file_select.text_select_file+"</a>";b=parent.document;c=b.getElementById("TB_iframeContent").src;d=fpw_fs_get_url_vars(c);if("fpw_fs_field"in d){e=a("ul#sidemenu a.current").parent("li").attr("id");a("ul#sidemenu li#tab-type_url").remove();a("p.ml-submit").remove();switch(e){case"tab-type":{a("table.describe tbody tr:not(.submit)").remove();a("table.describe tr.submit td.savesend input").remove();a("table.describe tr.submit td.savesend").prepend(f);break};case"tab-library":{a("#media-items .media-item a.toggle").remove();a("#media-items .media-item").each(function(){a(this).prepend(f)});a("a.fpw-fs-insert").css({display:"block","float":"right",margin:"7px 20px 0 0"});break};case"tab-nextgen":{a("#media-items .media-item a.toggle").remove();a("#media-items .media-item").each(function(){a(this).prepend(f)});a("a.fpw-fs-insert").css({display:"block","float":"right",margin:"7px 20px 0 0"});break}}a("a.fpw-fs-insert").click(function(){var b;if(a(this).parent().attr("class")=="savesend"){b=a(this).siblings(".del-attachment").attr("id");b=b.match(/del_attachment_([0-9]+)/);b=b[1]}else{b=a(this).parent().attr("id");b=b.match(/media\-item\-([0-9]+)/);b=b[1];if(e=="tab-nextgen"){b="ngg-"+b}}parent.fpw_fs_select_item(b,d["fpw_fs_field"]);return false})}}if(a(".btn-for-author").length){a(".btn-for-author").click(function(){t=this;id=t.id;id=id.slice(id.search(/author-for-id-/)+14,id.length);fpw_fs_select_item("Author","val-for-id-"+id+"-field")})}if(a(".btn-for-clear").length){a(".btn-for-clear").click(function(){t=this;id=t.id;id=id.slice(id.search(/clear-for-id-/)+13,id.length);fpw_fs_select_item(0,"val-for-id-"+id+"-field")})}if(a(".btn-for-refresh").length){a(".btn-for-refresh").click(function(){t=this;id=t.id;id=id.slice(id.search(/refresh-for-id-/)+15,id.length);value=a("#"+"val-for-id-"+id+"-field").attr("value");fpw_fs_select_item(value,"val-for-id-"+id+"-field");return false})}setTimeout(function(){a("div.updated").fadeOut("slow",function(){a("div.updated").remove()})},5e3)})